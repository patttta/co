<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>íëª¨ì½” ì½”ì½”ì•„ ìš´ì„¸</title>

<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", sans-serif;
    text-align: center;
    padding: 60px;
  }

  .logo-wrap {
    margin-bottom: 30px;
  }

  .logo-wrap img {
    max-width: 350px;
    width: 100%;
    cursor: pointer;
  }

  .title-image {
    margin-bottom: 30px;
    cursor: pointer;
  }

  .title-image img {
    max-width: 280px;
    width: 100%;
  }

  /* ê²°ê³¼ ì˜ì—­ */
  .result {
    display: none;
    margin-top: 30px;
  }

  .image-box {
    position: relative;
    width: 100%;
    height: 260px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .image-box img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: 12px;
  }

  .result-text {
    margin-top: 18px;
    font-size: 18px;
    line-height: 1.5;
    color: #333;
  }

  .copyright {
    margin-top: 100px;
    font-size: 12px;
    color: #8D7860;
  }

  /* ë‘ê·¼ë‘ê·¼ ëŒ€ê¸° ì• ë‹ˆë©”ì´ì…˜ */
  @keyframes heartbeat {
    0% { transform: scale(1); }
    25% { transform: scale(1.05); }
    50% { transform: scale(1); }
    75% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  .waiting {
    animation: heartbeat 0.6s ease-in-out infinite;
    opacity: 0.7;
  }

  /* ê²°ê³¼ íŒ ì• ë‹ˆë©”ì´ì…˜ */
  @keyframes pop {
    0% { opacity: 0; transform: scale(0.85); }
    60% { opacity: 1; transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  .pop {
    animation: pop 0.35s ease-out;
  }
</style>
</head>

<body>

<div class="container">

  <!-- ë¡œê³  -->
  <div class="logo-wrap">
    <img id="logoImage"
     src="https://i.imgur.com/rYcxn0Z.png"
     alt="íëª¨ì½” ë¡œê³ "
     onclick="location.reload()">

  </div>

  <!-- í´ë¦­ìš© íƒ€ì´í‹€ ì´ë¯¸ì§€ -->
<div class="title-image" onclick="drawBeads()">
  <img id="drawImage"
       src="https://i.imgur.com/D4nCoQW.png"
       alt="ì½”ì½”ì•„ ìš´ì„¸">
</div>

  <!-- ê²°ê³¼ -->
  <div class="result" id="resultBox">
    <div class="image-box">
      <img id="resultImage" src="">
    </div>
    <div class="result-text" id="resultText"></div>
  </div>

  <div class="copyright">
    Â© Pong PocoPoco Project
  </div>

</div>

<script>
  const TEST_MODE = true; // í…ŒìŠ¤íŠ¸ ëë‚˜ë©´ falseë¡œ

  function getToday() {
    const d = new Date();
    return d.getFullYear() + "-" +
      String(d.getMonth() + 1).padStart(2, "0") + "-" +
      String(d.getDate()).padStart(2, "0");
  }

  /* ğŸ”¹ ì´ë¯¸ì§€ + ë¬¸êµ¬ ì„¸íŠ¸ (4ê°œ) */
  const items = [
    {
      img: "https://i.imgur.com/bVvaxfi.png",
      text: "ë„í† ë¦¬ 1í†¨!"
    },
    {
      img: "https://i.imgur.com/p635FDn.png",
      text: "ë„í† ë¦¬ 2í†¨!!"
    },
    {
      img: "https://i.imgur.com/DfojvDj.png",
      text: "ë„í† ë¦¬ 3í†¨!!!"
    },
    {
      img: "https://i.imgur.com/a1yOTmV.png",
      text: "ê½!!!!"
    }
  ];

  function drawBeads() {
    const today = getToday();

    if (!TEST_MODE && localStorage.getItem("lastDrawDate") === today) {
      alert("ì½”ì½”ì•„ëŠ” ì´ì œ ê·¸ë§Œ! ë‚´ì¼ ë‹¤ì‹œ ë§ˆì…”ìš”.");
      return;
    }

    if (!TEST_MODE) {
      localStorage.setItem("lastDrawDate", today);
    }

    const box = document.getElementById("resultBox");
    const img = document.getElementById("resultImage");
    const text = document.getElementById("resultText");

    box.style.display = "block";
    img.src = "";
    text.innerText = "";

    /* ë‘ê·¼ë‘ê·¼ ì—°ì¶œ */
drawImg.classList.add("waiting");

  setTimeout(() => {
    drawImg.classList.remove("waiting");

    const result = items[Math.floor(Math.random() * items.length)];

    img.src = result.img;
    text.innerText = result.text;

    img.classList.remove("pop");
    void img.offsetWidth;
    img.classList.add("pop");
  }, 1200);
  }
</script>

</body>
</html>
